<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Robert Munro</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
/* ── Theme & spacing ----------------------------------------------------- */
:root{
  --primary-bg:#f9f9f9;
  --text-color:#222;
  --nav-bg:#2c3e50;
  --nav-text:#ecf0f1;
  --nav-hover:#f39c12;

  /* Outer spacing for all sections */
  --section-margin:20px;
  --section-padding-vertical:20px;
  --section-padding-horizontal:25px;
}

/* ── Normalisation -------------------------------------------------------- */
*, *::before, *::after{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:'Arial',sans-serif;
  background:var(--primary-bg);
  color:var(--text-color);
}

/* ── Navigation ----------------------------------------------------------- */
header nav{
  padding-top:110px;height:90px;display:flex;justify-content:center;align-items:flex-end;
  background:var(--nav-bg);
  box-shadow:inset 0 -4px 10px rgba(0,0,0,.15),0 6px 12px rgba(0,0,0,.25);
}
header nav a{
  color:var(--nav-text);text-decoration:none;margin:0 22px;font-weight:bold;
  font-size:1.35rem;letter-spacing:.06em;text-transform:uppercase;
  transition:color .3s ease;
}
header nav a:hover{color:var(--nav-hover);}
header nav a > span{
  display:inline-block;transition:transform .2s ease;
}
header nav a:hover > span{transform:translateY(-4px);}

/* ── Sections ------------------------------------------------------------- */
main section{
  max-width:900px;width:90%;margin:var(--section-margin) auto;background:white;
  padding:var(--section-padding-vertical) var(--section-padding-horizontal);
  border-radius:8px;box-shadow:0 12px 24px rgba(0,0,0,.1);display:none;
  opacity:0;transition:opacity .3s ease;
}
main section.active{display:block;opacity:1;}

/* ── Images & Blog ------------------------------------------------------- */
img{max-width:100%;height:auto;margin:20px auto;display:block;}
.blog-container{display:flex;}
.preview-list{
  width:260px;flex-shrink:0;padding-right:7.5px;
  max-height:calc(100vh - 200px);overflow-y:auto;
}
.post-detail{flex-grow:1;background:#fff;border-radius:8px;margin-left:10px;
  box-shadow:0 2x 6px rgba(0,0,0,.08);}
.post{
  padding:15px;margin-bottom:4px;background:white;border-radius:8px;cursor:pointer;border:1px solid #eaeaea;
}
.preview-list .post .full-body{display:none;}
.meta{font-size:.9rem;color:#555;margin-bottom:.75rem;}
.post h3{margin:0 0 .25rem;font-size:1.2rem;}
.post:not(.static):hover{
  transform:translateY(-2px);transition:transform .15s ease-out;background:#f8f8f8;
}
.post.static{cursor:default;background:#f7fafc;border-left:6px solid #2c3e50;
  border-top-right-radius:8px;border-bottom-right-radius:8px;border-top-left-radius:4px;border-bottom-left-radius:4px;}
.post.static h3{font-family:'Arial',serif;font-weight:600;}

/* ── CV --------------------------------------------------------------- */
.cv-header-wrapper{
  display:flex;align-items:center;gap:.5rem;margin-bottom:var(--section-padding-vertical);
}
.cv-header-wrapper a.download-btn{
  padding:.6rem 1.2rem;background:#2c3e50;color:#fff;text-decoration:none;border-radius:4px;font-size:1.1rem;
  border:1px solid #d4af37;
}
.cv-header-wrapper a.download-btn:hover{background:#d4af35;color:#222;}
.cv-header-wrapper h2{flex:1;text-align:center;}
.cv-header-wrapper p{text-align:right;margin-left:auto;}
.cv-container{
  overflow:auto;border:3px solid #eaeaea;border-radius:8px;margin-top:var(--section-padding-vertical);
}
.cv-container iframe{
  width:100%;height:calc(100vh - 270px);border:none;
}

/* ── Image row ---------------------------------------------------------- */
.image-row{display:flex;flex-wrap:wrap;gap:10px;}
.image-row img{width:calc(50% - 5px);height:auto;}

/* ── Gallery ------------------------------------------------------------ */
.gallery{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}

/* Modal overlay */
.modal{
  position:fixed; top:0; left:0; width:100%; height:100%;
  background:rgba(0,0,0,.8);
  display:flex; align-items:center; justify-content:center;
  visibility:hidden; opacity:0; transition:.3s ease;
}
.modal.show{visibility:visible; opacity:1;}
.modal img{
  max-width:90vw;
  max-height:90vh;
  border-radius:4px;
}

/* NEW: Caption overlay inside the modal */
.modal-caption {
  position:absolute;      /* Overlay on top of the image */
  bottom:0;
  left:0;
  width:100%;
  background:rgba(0,0,0,.7);   /* Dark, semi‑transparent backdrop */
  color:#fff;                  /* White text */
  font-size:1rem;
  padding:8px 12px;
  text-align:center;
  pointer-events:none;        /* So clicks pass through to the modal itself */
  display:none;               /* Hidden by default – shown when a caption is set */
}

/* Gallery item wrapper */
.gallery-item{
  display:flex;
  flex-direction:column;
  align-items:center;
  width:calc(33.333% - 10px);
}

/* Image inside gallery‑item */
.gallery-item img{
  width:100%;
  height:100%;                     /* natural aspect ratio            */
  object-fit:cover;
  border:3px solid #ffffff;
  box-shadow:
      0 4px 8px rgba(0,0,0,.25),
      0 1px 2px rgba(0,0,0,.12);
  transition:transform .2s ease, box-shadow .2s ease;
}
.gallery-item img:hover{
  transform:scale(1.05);
}

/* Caption styling */
.gallery-item .description{
  display:block;
  margin-top:0rem;                /* moved closer to image            */
  padding:.5rem .9rem;
  font-size:.9rem;
  color:#444;
  text-align:center;
  line-height:1.4;
  background:#ffffff;
  border:1px solid #e0e0e0;
  border-radius:4px;
  box-shadow:0 2px 6px rgba(0,0,0,.15);
}

/* Figure container for positioning */
.gallery-item figure{
  position:relative;                /* allows absolute caption arrow    */
}

/* ── Tweaks for the CV section ---------------------------------------- */
#section2{
  /* top padding between Download button and section top */
  padding-top:12px;
}
.cv-header-wrapper{
  /* Keep a modest space below the header – but less than before */
  margin-bottom:6px;
}
.cv-container{
  /* Slightly reduce the gap between header and the embedded PDF */
  margin-top:6px;
}

/* ── Responsive tweaks for narrowing screens  ------------------- */
@media (max-width:800px) {
  .blog-container{
    display:flex;            /* flexbox keeps columns in a row      */
    flex-wrap:no-wrap;       /* never wrap – we want the ratio      */
    gap:10px;                /* small gutter between cols           */
    overflow-x:auto;        /* let user scroll if container is too narrow */
  }

  /* ----- 2. Left column (preview list) --------------------------------- */
  .preview-list{
    flex-basis:calc(33.333% - 5px);   /* ~2/3 of the width            */
    min-width:120px;                  /* guarantees at least a chunk of text is visible */
    max-height:none;                   /* optional – let it grow with content */
  }

  /* ----- 3. Right column (detail pane) --------------------------------- */
  .post-detail{
    flex-basis:calc(66.666% - 5px);   /* 1/3 of the width            */
    min-width:120px;                  /* guarantees at least a chunk of text is visible */
  }

  /* ----- 4. Gallery images  */
  .gallery img{
    width:calc(100% - 10px);
  }
}

/* 400 px breakpoint – only affect Section 1 */
@media (max-width:400px) {

    /* ---------- Font tweaks inside the preview list ----------
       (only inside #section1) --------------------------------- */
    #section1 .preview-list,
    #section1 .preview-list * {
        font-size: 0.9rem;           /* ~90 % of normal size   */
    }

    #section1 .post h3{
        font-size: 1.1rem;
        line-height: 1.2;
    }

    /* ---------- Gallery items inside Section 1 ----------------- */
    #section3 .gallery-item{
        width: calc(50% - 10px);     /* two‑column, small gutter   */
    }

    /* ---------- Remove left/right padding & margin from section 1
       (but keep the top/bottom padding that comes from --section-padding-vertical) ----------- */
    #section1{
        margin-left: 0;
        margin-right: 0;
        width: 100%;
        max-width: none;

        /* keep vertical padding, but shrink horizontal side‑gaps to zero */
        padding-left: calc(var(--section-padding-vertical)/2);
        padding-right: calc(var(--section-padding-vertical)/2);
    }

    /* ---------- Remove internal spacing from the blog container
       (only inside #section1) ------------------------------------------- */
    #section1 .blog-container{
        width: 100%;
        max-width: none;
        margin-left: 0 !important;
        margin-right: 0 !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
    }
}

</style>
</head>

<body>
<header>
  <nav>
    <!-- Add more links here – they automatically become new sections -->
    <a href="#" data-target="section1"><span>Home</span></a>
    <a href="#" data-target="section2"><span>CV</span></a>
    <a href="#" data-target="section3"><span>Gallery</span></a>
  </nav>
</header>

<main>
  <!-- Section 1 – Home -->
  <section id="section1">
    <h2></h2>
    <div class="blog-container">

      <div class="preview-list">

        <!-- Contact card (static) -->
        <article class="post static"><h3>Contact</h3>
          <div class="contact-card">
            <p><strong>Name:</strong> Robert Munro</p>
            <p><strong>Email:</strong> robert@example.com</p>
            <p><strong>Phone:</strong> (123) 456‑7890</p>
            <p><strong>Address:</strong> City, Country</p>
          </div>
        </article>

        <!-- Recent project -->
        <article class="post"><h3>Recent Project</h3>
          <p class="meta">Published 15 Sep 2025</p>
          <div class="preview">Short description of the project – click to read more.</div>
          <div class="full-body">
            <p>Full details about the recent project, including the tech stack, challenges faced, and lessons learned. This text only appears when you click the post in the preview list.</p>
          </div>
        </article>

        <!-- Featured image -->
        <article class="post"><h3>Featured Image</h3>
          <div class="preview">Click to view the featured picture.</div>
          <div class="full-body">
            <img src="assets/pic.png" alt="A descriptive caption of pic.png">
            <p>A descriptive caption for pic.png.</p>
          </div>
        </article>

        <!-- Portfolio highlights (static) -->
        <article class="post static"><h3>Portfolio Highlights</h3>
          <ul>
            <li><strong>Project A:</strong> <em>A brief tagline.</em></li>
            <li><strong>Project B:</strong> <em>Another quick note.</em></li>
            <li><strong>Project C:</strong> <em>And a third one.</em></li>
          </ul>
        </article>

        <!-- Testimonials (static) -->
        <article class="post static"><h3>Testimonials</h3>
          <blockquote>“Robert’s work exceeded expectations. Highly recommend!” – Jane Doe</blockquote>
          <blockquote>“Clear communication and fast delivery.” – John Smith</blockquote>
        </article>

        <!-- Recent project showcase -->
        <article class="post"><h3>Recent Project Showcase</h3>
          <p class="meta">Published 20 Sep 2025</p>
          <div class="preview">A sneak peek of the latest work – click to expand.</div>
          <div class="full-body">
            <p>This project involved building a cutting‑edge web application that integrates real‑time data visualisation and AI‑powered analytics.</p>
            <div class="image-row">
              <img src="assets/pic2.png" alt="Screenshot of the first feature in the recent project.">
              <img src="assets/pic3.png" alt="Screenshot of the second feature in the recent project.">
            </div>
            <p>Both images illustrate how the user interface adapts across devices, showcasing responsive design and dynamic content loading.</p>
          </div>
        </article>

      </div>

      <!-- Detail area – shows the currently selected post -->
      <div class="post-detail"></div>
    </div>
  </section>

  <!-- Section 2 – CV -->
  <section id="section2">
    <div class="cv-header-wrapper">
      <a href="assets/cv.pdf" target="_blank" class="download-btn">Download CV</a>
      <p>View below or download directly</p>
      <h2></h2>
    </div>

    <div class="cv-container">
      <iframe src="assets/cv.pdf"></iframe>
    </div>
  </section>

  <!-- Section 3 – Gallery -->
  <section id="section3">
    <h2>Gallery</h2>

    <!-- Updated gallery container -->
    <div class="gallery" id="gallery">

      <!-- Example image 1 -->
      <figure class="gallery-item">
        <img src="assets/gallery1.png" alt="Gallery image 1">
        <figcaption class="description">A brief description of Gallery image 1.</figcaption>
      </figure>

      <!-- Repeat for the remaining images… -->
      <figure class="gallery-item">
        <img src="assets/gallery2.png" alt="Gallery image 2">
        <figcaption class="description">A brief description of Gallery image 2.</figcaption>
      </figure>

      <figure class="gallery-item">
        <img src="assets/gallery3.png" alt="Gallery image 3">
        <figcaption class="description">A brief description of Gallery image 3.</figcaption>
      </figure>

      <figure class="gallery-item">
        <img src="assets/gallery4.png" alt="Gallery image 4">
        <figcaption class="description">A brief description of Gallery image 4.</figcaption>
      </figure>

      <figure class="gallery-item">
        <img src="assets/gallery5.png" alt="Gallery image 5">
        <figcaption class="description">A brief description of Gallery image 5.</figcaption>
      </figure>

      <figure class="gallery-item">
        <img src="assets/gallery6.png" alt="Gallery image 6">
        <figcaption class="description">A brief description of Gallery image 6.</figcaption>
      </figure>

    </div>
  </section>
</main>

<!-- Modal for enlarged images -->
<div class="modal" id="imageModal">
  <img src="" alt="">
  <!-- NEW: Caption overlay inside the modal -->
  <div class="modal-caption"></div>
</div>

<script>
// ── Navigation & section activation ------------------------------------
document.addEventListener('DOMContentLoaded', () => {
  const navLinks = document.querySelectorAll('[data-target]');
  const sections = document.querySelectorAll('section');

  function showSection(id) {
    sections.forEach(s=>s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    expandFirstInSection(id);
  }

  // Expand the first non‑static post in a section (used on load and when switching)
  function expandFirstInSection(sectionId){
    const firstPost = document.querySelector(`#${sectionId} .post:not(.static)`);
    if(!firstPost) return;
    const detailArea = document.querySelector(`#${sectionId} .post-detail`);
    const title   = firstPost.querySelector('h3').outerHTML;
    const meta    = firstPost.querySelector('.meta')?.outerHTML || '';
    const body    = firstPost.querySelector('.full-body')?.innerHTML || '';
    detailArea.innerHTML = `<article>${title}${meta}<div class="full-body">${body}</div></article>`;
  }

  // Default to the first nav link
  showSection(navLinks[0].dataset.target);

  // Nav click handler
  navLinks.forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      showSection(link.dataset.target);
    });
  });

  // Preview list click – swap detail content
  document.querySelectorAll('.preview-list').forEach(list => {
    let current = null;
    list.addEventListener('click', e => {
      const post = e.target.closest('.post');
      if (!post || post.classList.contains('static') || post === current) return;

      const detailArea = list.nextElementSibling; // .post-detail
      const title   = post.querySelector('h3').outerHTML;
      const meta    = post.querySelector('.meta')?.outerHTML || '';
      const body    = post.querySelector('.full-body')?.innerHTML || '';
      detailArea.innerHTML = `<article>${title}${meta}<div class="full-body">${body}</div></article>`;
      current = post;
    });
  });

  // ── Gallery modal --------------------------------------------
  const modal = document.getElementById('imageModal');
  const modalImg = modal.querySelector('img');
  const modalCaption = modal.querySelector('.modal-caption');   // NEW

  document.getElementById('gallery').addEventListener('click', e => {
    if (e.target.tagName.toLowerCase() !== 'img') return;

    const img = e.target;
    modalImg.src = img.src;
    modalImg.alt = img.alt;

    /* Grab the caption text from the closest .gallery-item */
    const captionEl = img.closest('.gallery-item').querySelector('.description');
    const captionText = captionEl ? captionEl.innerText : '';

    if (captionText) {
      modalCaption.textContent = captionText;
      modalCaption.style.display = 'block';   // Show the caption
    } else {
      modalCaption.style.display = 'none';
    }

    modal.classList.add('show');
  });

  modal.addEventListener('click', () => {
    modal.classList.remove('show');
    modalImg.src = '';
    modalImg.alt = '';
    modalCaption.textContent = '';            // Clear the caption
    modalCaption.style.display = 'none';
  });
});
</script>
</body>
</html>
